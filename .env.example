# =============================================
# Database DDL Extractor — Environment Config
# =============================================

# ─── DEV Database (direct connection) ───────
DEV_DB_HOST=localhost
DEV_DB_PORT=5432
DEV_DB_NAME=your_dev_database
DEV_DB_USER=postgres
DEV_DB_PASSWORD=your_password

# ─── PROD Database (via SSH tunnel) ─────────
#
# How it works:
#   Your machine  →  SSH into prod server  →  connect to DB
#   localhost:random_port → SSH_HOST:22 → DB_HOST:5432
#
# DB_HOST is the address as seen FROM the SSH server.
# If PostgreSQL runs on the same machine as SSH, use 127.0.0.1

PROD_DB_HOST=127.0.0.1
PROD_DB_PORT=5432
PROD_DB_NAME=your_prod_database
PROD_DB_USER=postgres
PROD_DB_PASSWORD=your_password

# SSH connection (set SSH_HOST to enable tunnel)
PROD_SSH_HOST=your-prod-server.com
PROD_SSH_PORT=22
PROD_SSH_USER=your_ssh_user

# Auth option 1: SSH key (recommended)
PROD_SSH_KEY_PATH=~/.ssh/id_rsa
# PROD_SSH_PASSPHRASE=your_key_passphrase

# Auth option 2: SSH password
# PROD_SSH_PASSWORD=your_ssh_password

# ─── Optional Configuration ─────────────────

# Custom output directory for SQL files
# Default: ./sql (relative to project root)
# SQL_OUTPUT_DIR=/custom/path/to/sql

# ─── Notes ──────────────────────────────────
# - CLI flags override environment variables (see README for CLI options)
# - SSH tunnel is auto-detected: if PROD_SSH_HOST is set → tunnel, otherwise → direct
# - DEV can also use SSH: just add DEV_SSH_HOST, DEV_SSH_USER, etc.
# - Key auth takes priority over password if both are set
#
# CLI flag examples:
#   pg-ddl-extract --host localhost --database mydb --user postgres
#   pg-ddl-extract --env dev --output /custom/path
#   pg-ddl-diff --sql-dir /custom/sql
#   pg-ddl-migrate --sql-dir /custom/sql